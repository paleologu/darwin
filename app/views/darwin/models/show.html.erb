<%= render "ui/card", classes: "space-y-6" do %>
  <%= render "ui/card/header", classes: "flex items-center justify-between" do %>
    <div>
      <%= render "ui/card/description", content: @model.runtime_constant.table_name %>
      <%= render "ui/card/title", content: @model.name %>
    </div>
    <div class="flex items-center gap-2">
      <%= render "ui/navigation_menu/link", href: darwin.edit_model_path(@model), trigger_style: true do %>
        Edit
      <% end %>
      <%= render "ui/navigation_menu/link", href: darwin.records_path(@model.name.pluralize.underscore), trigger_style: true do %>
        Records
      <% end %>
    </div>
  <% end %>

  <%= render "ui/card/content", classes: "space-y-4" do %>
    <p class="text-sm text-muted-foreground">
      Table name: <code class="font-mono text-foreground"><%= @model.runtime_constant.table_name %></code>
    </p>

    <%= render "ui/table", classes: "w-full" do %>
      <%= render "ui/table/header" do %>
        <%= render "ui/table/row" do %>
          <% @model.runtime_constant.columns.each do |column| %>
            <%= render "ui/table/head" do %><%= column.name.humanize %><% end %>
          <% end %>
        <% end %>
      <% end %>

      <%= render "ui/table/body" do %>
        <% @records.each do |record| %>
          <%= render "ui/table/row" do %>
            <% @model.runtime_constant.columns.each do |column| %>
              <%= render "ui/table/cell" do %>
                <%= record.send(column.name) %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
